(this.webpackJsonplearn_react=this.webpackJsonplearn_react||[]).push([[0],{132:function(e,t,n){e.exports={selected_page:"Paginator_selected_page__2eREY"}},133:function(e,t,n){e.exports={text_color_page:"Users_text_color_page__1ncwa",selected_page:"Users_selected_page__Ip6XU"}},14:function(e,t,n){e.exports={posts:"navBar_posts__2r8Jc",item:"navBar_item__1x_wt",activeLink:"navBar_activeLink__2oDK6",size:"navBar_size__1kXxO"}},27:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1-6H6",dialogs_item:"Dialogs_dialogs_item__2fnTv",activeLink:"Dialogs_activeLink__18OqN",dialog:"Dialogs_dialog__3rxe7",messages:"Dialogs_messages__1k247",massage:"Dialogs_massage__mb6BZ"}},293:function(e,t,n){"use strict";n.r(t);n(93);var r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,294)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))},s=n(1),a=n.n(s),c=n(65),o=n.n(c),i=n(22),u=n(23),l=n(25),d=n(24),j=n(11),p=n(13),b=(n(94),n(14)),f=n.n(b),h=n(0),O=function(e){return Object(h.jsxs)("nav",{className:f.a.posts,children:[Object(h.jsx)("div",{className:"".concat(f.a.item," ").concat(f.a.size),children:Object(h.jsx)(p.b,{to:"/profile",activeClassName:f.a.activeLink,children:"Profile"})}),Object(h.jsx)("div",{className:"".concat(f.a.item," ").concat(f.a.size),children:Object(h.jsx)(p.b,{to:"/dialogs",activeClassName:f.a.activeLink,children:"Messages"})}),Object(h.jsx)("div",{className:"".concat(f.a.item," ").concat(f.a.size),children:Object(h.jsx)(p.b,{to:"/users",activeClassName:f.a.activeLink,children:"Users"})}),Object(h.jsx)("div",{className:"".concat(f.a.item," ").concat(f.a.size),children:Object(h.jsx)(p.b,{to:"/news",activeClassName:f.a.activeLink,children:"News"})}),Object(h.jsx)("div",{className:"".concat(f.a.item," ").concat(f.a.size),children:Object(h.jsx)(p.b,{to:"/music",activeClassName:f.a.activeLink,children:"Music"})}),Object(h.jsx)("div",{className:"".concat(f.a.item," ").concat(f.a.size),children:Object(h.jsx)(p.b,{to:"/settings",activeClassName:f.a.activeLink,children:"Settings"})})]})},g=n(38),m=n(3),x="ADD-MESSAGE",v={dialogsData:[{id:1,name:"qweeqwe"},{id:2,name:"fasdasd"},{id:3,name:"zxcvmqweqwvz"},{id:4,name:"qwvvk"}],messagesData:[{id:1,message:"hi"},{id:2,message:"bye"},{id:3,message:"my"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;if(t.type===x){var n=t.newMessageText;return Object(m.a)(Object(m.a)({},e),{},{messagesData:[].concat(Object(g.a)(e.messagesData),[{id:8,message:n}])})}return e},w=n(27),P=n.n(w),C=function(e){return Object(h.jsx)("div",{className:P.a.message,children:Object(h.jsx)("div",{className:P.a.message,children:e.message})})},k=function(e){return Object(h.jsx)("div",{className:P.a.dialog+" "+P.a.active,children:Object(h.jsxs)(p.b,{to:"/Dialogs/"+e.id,activeClassName:P.a.activeLink,children:[" ",e.name," "]})})},S=n(124),y=n(125),T=n(92),N=n(51),I=n.n(N),U=function(e){if(!e)return"Filed is required"},F=function(e){return function(t){if(t&&t.length>e)return"max Length is ".concat(e," symbols")}},E=["input","meta","child"],L=["input","meta","child"],z=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,s=e.children,a=n&&r;return Object(h.jsxs)("div",{className:I.a.form_control+" "+(a?I.a.error:""),children:[Object(h.jsx)("div",{children:s}),a?Object(h.jsx)("span",{children:r}):""]})},D=function(e){var t=e.input,n=(e.meta,e.child,Object(T.a)(e,E));return Object(h.jsxs)(z,Object(m.a)(Object(m.a)({},e),{},{children:[" ",Object(h.jsx)("textarea",Object(m.a)(Object(m.a)({},t),n))," "]}))},A=function(e){var t=e.input,n=(e.meta,e.child,Object(T.a)(e,L));return Object(h.jsxs)(z,Object(m.a)(Object(m.a)({},e),{},{children:[" ",Object(h.jsx)("input",Object(m.a)(Object(m.a)({},t),n))," "]}))},M=function(e,t,n,r,s){return Object(h.jsx)(S.a,Object(m.a)({placeholder:e,name:t,component:r,validate:n},s))},B=F(20),R=Object(y.a)({form:"addMessageForm"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)(S.a,{component:D,name:"newMessageBody",placeholder:"enter mess",validate:[U,B]}),Object(h.jsx)("button",{children:"add post"})]})})),q=function(e){var t=e.dialogsPage,n=t.dialogsData.map((function(e){return Object(h.jsx)(k,{name:e.name,id:e.id},e.id)})),r=t.messagesData.map((function(e){return Object(h.jsx)(C,{message:e.message},e.id)}));return Object(h.jsxs)("div",{className:P.a.dialogs,children:[Object(h.jsx)("div",{className:P.a.dialogs_item,children:n}),Object(h.jsx)("div",{className:P.a.messages,children:r}),Object(h.jsx)(R,{onSubmit:function(t){e.sendMessage(t.newMessageBody),console.log()}})]})},G=n(12),X=function(e){return{isAuth:e.auth.isAuth}},H=n(9),W=Object(H.d)(Object(G.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:x,newMessageText:e}}(t))}}})),(function(e){var t=function(t){Object(l.a)(r,t);var n=Object(d.a)(r);function r(){return Object(i.a)(this,r),n.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return!1===this.props.isAuth?Object(h.jsx)(j.a,{to:"/login"}):Object(h.jsx)(e,Object(m.a)({},this.props))}}]),r}(a.a.Component);return Object(G.b)(X)(t)}))(q),J=n(10),Z=n.n(J),K=n(20),V=n(131).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"042614c5-759a-4e8d-950e-8e989a1338dc"}}),Y={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return V.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},deleteFollowUser:function(e){return V.delete("follow/".concat(e)).then((function(e){return e.data}))},postFollowUser:function(e){return V.post("follow/".concat(e),null).then((function(e){return e.data}))}},Q=function(e){return V.get("profile/"+e)},$=function(e){return V.get("profile/status/"+e)},ee=function(e){return V.put("profile/status",{status:e})},te=function(){return V.get("auth/me").then((function(e){return e.data}))},ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return V.post("auth/login",{email:e,password:t,rememberMe:n})},re=function(){return V.delete("auth/login")},se=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(m.a)(Object(m.a)({},e),r):e}))},ae="FOLLOW",ce="UNFOLLOW",oe="SET-USERS",ie="SET-CURRENT-PAGE",ue="SET-TOTAL-USERS-COUNT",le="TOGGLE-IS-FETCHING",de="TOGGLE-IS-FOLLOWING-PROGRESS",je={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},pe=function(e){return{type:ae,userId:e}},be=function(e){return{type:ce,userId:e}},fe=function(e){return{type:ie,currentPage:e}},he=function(e){return{type:le,isFetching:e}},Oe=function(e,t){return{type:de,isFetching:e,userId:t}},ge=function(){var e=Object(K.a)(Z.a.mark((function e(t,n,r,s){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Oe(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(s(n)),t(Oe(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(m.a)(Object(m.a)({},e),{},{users:se(e.users,t.userId,"id",{followed:!0})});case ce:return Object(m.a)(Object(m.a)({},e),{},{users:se(e.users,t.userId,"id",{followed:!1})});case oe:return Object(m.a)(Object(m.a)({},e),{},{users:Object(g.a)(t.users)});case ie:return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case ue:return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.count});case le:return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case de:return Object(m.a)(Object(m.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(g.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},xe=n(43),ve=n(132),_e=n.n(ve),we=function(e){for(var t=e.currentPage,n=e.totalUsersCount,r=e.pageSize,a=e.onPageChanged,c=e.portionSize,o=void 0===c?10:c,i=Math.ceil(n/r),u=[],l=1;l<=i;l++)u.push(l);var d=Object(s.useState)(Math.ceil(t/o)),j=Object(xe.a)(d,2),p=j[0],b=j[1],f=(p-1)*o+1,O=p*o;return Object(h.jsxs)("div",{children:[p>1?Object(h.jsx)("button",{onClick:function(){return b((function(e){return e-1}))},children:"prev"}):"",u.filter((function(e){if(e>=f&&e<=O)return e})).map((function(e){return Object(h.jsx)("span",{className:t===e?_e.a.selected_page:"",onClick:function(t){return a(e)},children:e+" "},e)})),p<u.length/o?Object(h.jsx)("button",{onClick:function(){return b((function(e){return e+1}))},children:"next"}):""]})},Pe=n(133),Ce=n.n(Pe),ke=function(e){var t=e.user,n=e.followingInProgress,r=e.unFollow,s=e.follow;return Object(h.jsxs)("span",{className:Ce.a.text_color_page,children:[Object(h.jsx)(p.b,{to:"/profile/"+t.id,children:Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:null!=t.photos.small?t.photos.small:"https://codespeedy.com/wp-content/uploads/2018/12/avatar1.png",width:"90px"})})}),Object(h.jsx)("div",{children:t.followed?Object(h.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:" unfollow"}):Object(h.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:" follow"})}),Object(h.jsxs)("div",{children:[t.name," "]}),Object(h.jsxs)("div",{children:["user.location.city"," "]}),Object(h.jsxs)("div",{children:["user.location.country"," "]}),Object(h.jsxs)("div",{children:[t.status," "]})]})},Se=function(e){return Object(h.jsxs)("div",{className:"user",children:[e.users.map((function(t){return Object(h.jsx)(ke,{user:t,followingInProgress:e.followingInProgress,follow:e.follow,unFollow:e.unFollow},t.id)})),Object(h.jsx)(we,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,onPageChanged:e.onPageChanged,currentPage:e.currentPage})]})},ye=n.p+"static/media/preloader.d878cc22.svg",Te=function(e){return Object(h.jsx)("img",{src:ye})},Ne=n(135),Ie=function(e){return e.usersPage.pageSize},Ue=function(e){return e.usersPage.totalUsersCount},Fe=function(e){return e.usersPage.currentPage},Ee=function(e){return e.usersPage.isFetching},Le=function(e){return e.usersPage.toggleIsFollowingProgress},ze=function(e){return e.usersPage.followingInProgress},De=Object(Ne.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Ae=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:this.props.isFetching?Object(h.jsx)(Te,{}):Object(h.jsx)(Se,{onPageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,users:this.props.users,follow:this.props.followThunkCreator,unFollow:this.props.unfollowThunkCreator,followingInProgress:this.props.followingInProgress})})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}}]),n}(a.a.Component),Me=Object(H.d)(Object(G.b)((function(e){return{users:De(e),pageSize:Ie(e),totalUsersCount:Ue(e),currentPage:Fe(e),isFetching:Ee(e),toggleIsFollowingProgress:Le(e),followingInProgress:ze(e)}}),{followThunkCreator:function(e){return function(){var t=Object(K.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ge(n,e,Y.postFollowUser.bind(Y),pe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunkCreator:function(e){return function(){var t=Object(K.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ge(n,e,Y.deleteFollowUser.bind(Y),be);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:fe,toggleIsFollowingProgress:Oe,getUsers:function(e,t){return function(){var n=Object(K.a)(Z.a.mark((function n(r){var s;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(he(!0)),r(fe(e)),n.next=4,Y.getUsers(e,t);case 4:s=n.sent,r((c=s.items,{type:oe,users:c})),r((a=s.totalCount,{type:ue,count:a})),r(he(!1));case 8:case"end":return n.stop()}var a,c}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Ae),Be="ADD-POST",Re="UPDATE-NEW-POST-TEXT",qe="SER-USER-PROFILE",Ge="SET_STATUS",Xe="DELETE-POST",He={posts:[{id:1,message:"hiqweqwe",likesCount:12},{id:2,message:"bye",likesCount:0}],newPostText:"",profile:null,status:""},We=function(e){return{type:qe,profile:e}},Je=function(e){return{type:Ge,status:e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:var n={id:5,message:t.newPost,likesCount:4};return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(g.a)(e.posts),[n])});case Re:return Object(m.a)(Object(m.a)({},e),{},{newPostText:t.newText});case qe:return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});case Ge:return Object(m.a)(Object(m.a)({},e),{},{status:t.status});case Xe:return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});default:return e}},Ke=n(54),Ve=n.n(Ke),Ye=n(90),Qe=n.n(Ye),$e=function(e){return Object(h.jsxs)("div",{className:Qe.a.content,children:[Object(h.jsxs)("div",{className:Qe.a.item,children:[Object(h.jsx)("img",{src:"https://is1-ssl.mzstatic.com/image/thumb/Music115/v4/7d/2e/92/7d2e9291-a8db-8e1c-c27f-93d8270d0a70/pr_source.png/800x800cc.jpg"}),e.message]}),Object(h.jsx)("span",{children:e.likesCount})]})},et=a.a.memo((function(e){console.log("render");var t=e.posts.map((function(e){return Object(h.jsx)($e,{message:e.message,likesCount:e.likesCount})}));return Object(h.jsxs)("div",{className:Ve.a.content,children:[Object(h.jsx)("div",{className:Ve.a.postsBlock,children:Object(h.jsx)("h3",{children:"My Posts"})}),Object(h.jsx)(nt,{onSubmit:function(t){e.addPost(t.newPost)}}),Object(h.jsx)("div",{className:Ve.a.posts,children:t})]})})),tt=F(10),nt=Object(y.a)({form:"addPost"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)("div",{children:Object(h.jsx)(S.a,{component:D,name:"newPost",placeholder:"add post",validate:[U,tt]})}),Object(h.jsx)("div",{className:Ve.a.newPost,children:Object(h.jsx)("button",{children:" Post"})})]})})),rt=et,st=Object(G.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{updateNewPostText:function(t){e(function(e){return{type:Re,newText:e}}(t))},addPost:function(t){e(function(e){return{type:Be,newPost:e}}(t))}}}))(rt),at=n(67),ct=n.n(at),ot=(a.a.Component,function(e){var t=Object(s.useState)(!1),n=Object(xe.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(e.status),o=Object(xe.a)(c,2),i=o[0],u=o[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);var l=Object(s.useState)(0),d=Object(xe.a)(l,2),j=d[0],p=d[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:j}),Object(h.jsx)("button",{onClick:function(){p(j+1)}}),r?Object(h.jsx)("div",{children:Object(h.jsx)("input",{value:i,autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(i)},onChange:function(e){u(e.currentTarget.value)},onFocus:function(e){return e.target.select()}})}):Object(h.jsx)("div",{children:Object(h.jsxs)("span",{onDoubleClick:function(){a(!0)},children:[" ",e.status||"----"," "]})})]})}),it=function(e){var t=e.profile,n=e.status,r=e.updateStatus;return t?Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:ct.a.descriptionBlock,children:[Object(h.jsx)("img",{src:t.photos.large,alt:""}),Object(h.jsx)(ot,{status:n,updateStatus:r})]})}):Object(h.jsx)(Te,{})},ut=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(it,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(h.jsx)(st,{})]})},lt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorisedUserId)||this.props.history.push("/login"),this.props.getUsersProfileThunkCreator(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)(ut,Object(m.a)(Object(m.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),n}(a.a.Component),dt=Object(H.d)(Object(G.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorisedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:We,getUsersProfileThunkCreator:function(e){return function(){var t=Object(K.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e);case 2:r=t.sent,n(We(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(K.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:r=t.sent,n(Je(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(K.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(e);case 2:0===t.sent.data.resultCode&&n(Je(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),j.f)(lt),jt=n(91),pt=n.n(jt),bt=function(e){return Object(h.jsxs)("header",{className:pt.a.header,children:[Object(h.jsx)("img",{src:"https://www.oasdom.com/wp-content/uploads/2018/01/oasdom.com-6-free-logo-design-online.jpg",alt:""}),Object(h.jsx)("div",{className:pt.a.login_block,children:e.isAuth?Object(h.jsxs)("div",{children:[e.login," - ",Object(h.jsx)("button",{onClick:e.LogoutThunkCreator,children:"logout"})]}):Object(h.jsx)(p.b,{to:"/login",children:" Login "})})]})},ft=n(36),ht="auth/SET-USER-DATA",Ot={userId:null,email:null,login:null,isFetching:!1,isAuth:!1},gt=function(e,t,n,r){return{type:ht,data:{userId:e,email:t,login:n,isAuth:r}}},mt=function(){return function(){var e=Object(K.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:0===(n=e.sent).resultCode&&t(gt(n.data.id,n.data.email,n.data.login,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;return t.type===ht?Object(m.a)(Object(m.a)({},e),t.data):e},vt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)(bt,Object(m.a)({},this.props))}}]),n}(a.a.Component),_t=Object(G.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{LogoutThunkCreator:function(){return function(){var e=Object(K.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:0===e.sent.data.resultCode&&t(gt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(vt),wt=Object(y.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(h.jsxs)("form",{onSubmit:t,children:[Object(h.jsx)("div",{children:M("email","email",[U],A)}),Object(h.jsx)("div",{children:M("pass","password",[U],A,{type:"password"})}),Object(h.jsxs)("div",{children:[M(null,"rememberMe",[],A,{type:"checkbox"})," rememberMe"]}),n?Object(h.jsx)("div",{className:I.a.form_summary_error,children:n}):"",Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"Login"})})]})})),Pt=Object(G.b)((function(e){return{isAuth:e.auth.isAuth}}),{LoginThunkCreator:function(e,t,n){return function(){var r=Object(K.a)(Z.a.mark((function r(s){var a,c,o;return Z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ne(e,t,n);case 2:0===(a=r.sent).data.resultCode?s(mt()):(c=a.data.messages.length>0?a.data.messages[0]:"some error",o=Object(ft.a)("login",{_error:c}),s(o));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return!0===e.isAuth?Object(h.jsx)(j.a,{to:"/profile"}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"login"}),Object(h.jsx)(wt,{onSubmit:function(t){e.LoginThunkCreator(t.email,t.password,t.rememberMe)}})]})})),Ct="SET-INITIALIZED-STATE",kt={initialized:!1},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;return t.type===Ct?Object(m.a)(Object(m.a)({},e),{},{initialized:!0}):e},yt=n(134),Tt=n(126),Nt=Object(H.c)({dialogsPage:_,profilePage:Ze,usersPage:me,auth:xt,app:St,form:Tt.a}),It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,Ut=Object(H.e)(Nt,It(Object(H.a)(yt.a))),Ft=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeAppThunkCreator()}},{key:"render",value:function(){return this.props.initialized?Object(h.jsxs)("div",{className:"app_wrapper",children:[Object(h.jsx)(_t,{}),Object(h.jsx)(O,{}),Object(h.jsxs)("div",{className:"app-wrapper-content",children:[Object(h.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(h.jsx)(dt,{})}})," ",Object(h.jsx)(j.b,{path:"/dialogs",render:function(){return Object(h.jsx)(W,{})}}),Object(h.jsx)(j.b,{path:"/users",render:function(){return Object(h.jsx)(Me,{})}}),Object(h.jsx)(j.b,{path:"/login",render:function(){return Object(h.jsx)(Pt,{})}})]})]}):Object(h.jsx)(Te,{})}}]),n}(a.a.Component),Et=Object(H.d)(Object(G.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunkCreator:function(){return function(e){var t=e(mt());Promise.all([t]).then((function(){e({type:Ct})}))}}}),j.f)(Ft),Lt=function(){return Object(h.jsx)(p.a,{children:Object(h.jsx)(G.a,{store:Ut,children:Object(h.jsx)(Et,{})})})};o.a.render(Object(h.jsx)(Lt,{}),document.getElementById("root")),r()},51:function(e,t,n){e.exports={form_control:"FormsControl_form_control__2jdh2",error:"FormsControl_error__n4VTk",form_summary_error:"FormsControl_form_summary_error__154Uh"}},54:function(e,t,n){e.exports={content:"myPosts_content__34_TC",posts:"myPosts_posts__1ZlO2"}},67:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1xh1r"}},90:function(e,t,n){e.exports={item:"Post_item__3X132"}},91:function(e,t,n){e.exports={header:"Header_header__2zSmy",login_block:"Header_login_block__1UBjc"}},93:function(e,t,n){},94:function(e,t,n){}},[[293,1,2]]]);
//# sourceMappingURL=main.d392e714.chunk.js.map